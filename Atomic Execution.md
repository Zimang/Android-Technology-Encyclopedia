当多个线程改变了彼此可访问的状态时，结果很容易变得不确定。由于语句执行的顺序之间没有关系，时间上微小的变化可能会改变程序运行的结果。
```
executionCount++; 
someTask();
```

仅凭直觉看，executionCount 这个变量很可能是用来计算函数 someTask 被调用的次数。然而，在并发环境中，当前这段代码并没有确定性行为，因为 ++ 操作不是原子的，它不是一个单一、不可分割的动作。

表1.1 展示了一个执行序列，未能记录一次执行。
![[assets/{2FEA4506-7A79-4DE1-A362-7D55456AAFFA}.png]]

同步[[Synchronization]] 是多个Java线程共享状态的基本机制，以确保交互的结果是确定性的。

同步[[Synchronization]]本身是一个简单的概念：代码的关键部分由互斥锁或互斥体保护。当一个线程进入关键部分，也就是开始执行其中的指令时，它被认为占用了互斥锁。直到第一个线程离开，其他线程才能进入该部分。如果只允许一个线程在任何给定时间执行关键部分，先前的代码就变得确定性。

```java
synchronized(this) { 
	executionCount++; someTask(); 
}
```
同步[[Synchronization]]是创建正确的并发Java程序的关键，也是许多绝对不简单的事情的基础。这些事情构成了本书其余部分的内容。


